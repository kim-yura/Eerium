extends layout

append head
  //- add page specific styles by appending to the head
  link(rel="stylesheet" href="/stylesheets/index.css")
  link(rel="stylesheet" href="/stylesheets/follower.css")
  link(rel='stylesheet' href='/stylesheets/footer.css')
  //- add page specific js
  script(src="/javascripts/index.js" type="module" defer)
  script(src="/javascripts/follows.js" type="module" defer)

block content
  div(class='follower-main-container')
    h1=`${user.username}'s Followers`
    div(class='follower-container')
    if authenticated
      if user.followers.length
        each follow in user.followers
          img(class='person-img' src='/profile-pic.png', style='width:50px;height:50px')
          a(href=`/users/${follow.id}` class='follower-name')=follow.username
          if (follow.id !== sessionUser.id)
            //- button(class=`profile-follow`, id= follow.Follow.followerId) Following
            if (followerObj[follow.id].followers.filter(subFollow => subFollow.id === sessionUser.id).length)
              button(class=`profile-follow`, id=follow.id) Following
            else
              button(class=`profile-follow`, id=follow.id) Follow
      else
        p=`${user.username} has no followers.`
    //- [{"id":9999,
    //-   "username":"DemoDave",
    //-   "email":"dave@dave.com",
    //-   "createdAt":"2021-12-26T00:49:47.711Z",
    //-   "updatedAt":"2021-12-26T00:49:47.711Z",
    //-   "Follow":
    //-     {"creatorId":10000,"followerId":9999,"createdAt":"2021-12-26T04:54:25.040Z","updatedAt":"2021-12-26T04:54:25.040Z"}},

  div(class="footer")
    .divider
      div(class="footer-content")
        div(class="person")
          img(class="person-profile" src="/profile-karandeep.jpg")
          p(class="person-name") Karandeep Singh
          div(class="icons")
            a(href="" target="_blank")
              img(src="/linkedin.png" class="icon")
            a(href="https://github.com/jinnie96" target="_blank")
              img(src="/github.png" class="icon")

        div(class="person")
          img(class="person-profile" src="/profile-xander.jpg")
          p(class="person-name") Xander Gangemi
          div(class="icons")
            a(href="" target="_blank")
              img(src="/linkedin.png" class="icon")
            a(href="https://github.com/gitxandalf" target="_blank")
              img(src="/github.png" class="icon")

        div(class="person")
          img(class="person-profile" src="/profile-yura.jpg")
          p(class="person-name") Yu Ra Kim
          div(class="icons")
            a(href="https://www.linkedin.com/in/yura-kim/" target="_blank")
              img(src="/linkedin.png" class="icon")
            a(href="https://github.com/kim-yura" target="_blank")
              img(src="/github.png" class="icon")

        div(class="person")
          img(class="person-profile" src="/profile-zhen.jpg")
          p(class="person-name") Zhen Yu
          div(class="icons")
            a(href="" target="_blank")
              img(src="/linkedin.png" class="icon")
            a(href="https://github.com/zyusnow" target="_blank")
              img(src="/github.png" class="icon")
